---
title: "Project"
---

Welcome to my project page.

Keep an eye on this space to stay updated with my project activities.

# 1. Project Overview and Scope 🔎

Istanbul is not only Turkey's but also Europe's most populous city. Therefore, if a disaster such as an earthquake occurs, the potential of destruction and the need for help would be very high. Due to the earthquake disaster that occurred at the beginning of 2023, the risky condition of buildings and residences in Turkey has become a matter of concern for people.

The purpose of this project is to examine Istanbul, which is almost certain to face a possible earthquake and significant destruction. The aim of the project is not only to assess buildings and residences in terms of their risky structural condition and make district-based interpretations but also to evaluate the opinions of people living in Istanbul and compare all the results.

9 datasets were used for this purpose, various graphs were drawn and interpreted comprehensively to make inferences.

# 2. Data 📄

## 2.1 Data Source

-   [Deprem Senaryosu Analiz Sonuçları](https://data.ibb.gov.tr/dataset/deprem-senaryosu-analiz-sonuclari/resource/9c3ac492-de4b-4245-b418-7ad3df67a193)

-   [2017 Yılı Mahalle Bazlı Bina Sayıları](https://data.ibb.gov.tr/dataset/mahalle-bazli-bina-analiz-verisi/resource/cef193d5-0bd2-4e8d-8a69-275c50288875)

-   [VDYM İlçe Bazında Hanelerdeki Riskli Yapı Durumu Bireysel Öngörüleri](https://data.ibb.gov.tr/dataset/vdym-ilce-bazinda-hanelerdeki-riskli-yapi-durumu-bireysel-ongoruleri/resource/52fe7088-62f2-4480-8f27-788dee385c9b)

-   [VDYM İlçe Bazında Hanelerdeki Kentsel Dönüşüm Fikri Bireysel Öngörüleri](https://data.ibb.gov.tr/dataset/vdym-ilce-bazinda-hanelerdeki-kentsel-donusum-fikri-bireysel-ongoruleri/resource/2683ee8b-9bc3-45cf-a115-49b285851317)

-   [İl Düzeyinde Bina ve Konut Niteliklerine Göre Hanehalkı Sayısı vs Binanın İnşa Yılı](https://biruni.tuik.gov.tr/medas/)

-   [İl Düzeyinde Bina ve Konut Niteliklerine Göre Hanehalkı Sayısı vs Binanın Kat Sayısı](https://biruni.tuik.gov.tr/medas/)

-   [İlçe Bazlı Ortalama Hane Halkı Büyüklüğü](https://data.ibb.gov.tr/dataset/ilce-bazli-ortalama-hane-halki-buyuklugu/resource/da747beb-df41-474e-aa8a-93d983e69b15)

-   [2019 Yılı Belediye Nüfusları](https://data.ibb.gov.tr/dataset/belediye-nufuslari-veri-seti/resource/c6c9b289-2824-41b3-ab3d-4fd655ed4e24)

-   [İstanbul Çevresinde Gerçekleşen Depremler](https://data.ibb.gov.tr/dataset/istanbul-da-son-bir-yilda-gerceklesen-depremler/resource/32904f60-8091-4dc3-b527-351dca6c1c22)

Information and explanations about these datasets are included in the section [2.2 General Information About Data].

All this data was taken from [İstanbul Büyükşehir Belediyesi Açık Veri Portalı](https://data.ibb.gov.tr/dataset) and [TÜİK Merkezi Dağıtım Sistemi](https://biruni.tuik.gov.tr/medas/).

```{r}
#install.packages("readxl")
library(readxl)

dosya_yolu<-"/Users/aycacetin/Documents/GitHub/emu660-spring2024-aycacetin/assets/deprem.xlsx"

deprem_senaryo<-read_excel(dosya_yolu, sheet=1)
bina_sayi<-read_excel(dosya_yolu, sheet=2)
riskli_yapi_durumu<-read_excel(dosya_yolu, sheet=3)
kentsel_donusum_fikri<-read_excel(dosya_yolu, sheet=4)
insa_yilina_gore_hanehalki_sayisi<-read_excel(dosya_yolu, sheet=5)
kat_sayisina_gore_hanehalki_sayisi<-read_excel(dosya_yolu, sheet=6)
ort_hane<-read_excel(dosya_yolu, sheet=7)
belediye_nüfus<-read_excel(dosya_yolu, sheet=8)
gerceklesen_deprem<-read_excel(dosya_yolu, sheet=9)

save(deprem_senaryo, file="deprem_senaryo.RData")
save(bina_sayi, file="bina_sayi.RData")
save(riskli_yapi_durumu, file="riskli_yapi_durumu.RData")
save(kentsel_donusum_fikri, file="kentsel_donusum_fikri.RData")
save(insa_yilina_gore_hanehalki_sayisi, file="insa_yilina_gore_hanehalki_sayisi.RData")
save(kat_sayisina_gore_hanehalki_sayisi, file="kat_sayisina_gore_hanehalki_sayisi.RData")
save(ort_hane, file="ort_hane.RData")
save(belediye_nüfus, file="belediye_nüfus.RData")
save(gerceklesen_deprem, file="gerceklesen_deprem.RData")

str(deprem_senaryo)
str(bina_sayi)
str(riskli_yapi_durumu)
str(kentsel_donusum_fikri)
str(insa_yilina_gore_hanehalki_sayisi)
str(kat_sayisina_gore_hanehalki_sayisi)
str(ort_hane)
str(belediye_nüfus)
str(gerceklesen_deprem)
```

## 2.2 General Information About Data

[Deprem Senaryosu Analiz Sonuçları](https://data.ibb.gov.tr/dataset/deprem-senaryosu-analiz-sonuclari/resource/9c3ac492-de4b-4245-b418-7ad3df67a193) is a dataset containing the results of an analysis made on an earthquake scenario that is predicted to have a magnitude of 7.5. Each row represents a neighbourhood. The columns have information mainly about the number of buildings based on damage level, the number of people based on vital status and pipe damages.

[2017 Yılı Mahalle Bazlı Bina Sayıları](https://data.ibb.gov.tr/dataset/mahalle-bazli-bina-analiz-verisi/resource/cef193d5-0bd2-4e8d-8a69-275c50288875) is a dataset about the buildings. Each row represents a neighbourhood. The columns have information mainly about year of construction and number of floors of the buildings.

[VDYM İlçe Bazında Hanelerdeki Riskli Yapı Durumu Bireysel Öngörüleri](https://data.ibb.gov.tr/dataset/vdym-ilce-bazinda-hanelerdeki-riskli-yapi-durumu-bireysel-ongoruleri/resource/52fe7088-62f2-4480-8f27-788dee385c9b) is a dataset about the opinions of households about the risky building situation on a district basis.

[VDYM İlçe Bazında Hanelerdeki Kentsel Dönüşüm Fikri Bireysel Öngörüleri](https://data.ibb.gov.tr/dataset/vdym-ilce-bazinda-hanelerdeki-kentsel-donusum-fikri-bireysel-ongoruleri/resource/2683ee8b-9bc3-45cf-a115-49b285851317) is a dataset about the opinions of households about the idea of urban transformation on a district basis.

[İl Düzeyinde Bina ve Konut Niteliklerine Göre Hanehalkı Sayısı vs Binanın İnşa Yılı](https://biruni.tuik.gov.tr/medas/) consists of the total number of households based on the year of construction of the buildings.

[İl Düzeyinde Bina ve Konut Niteliklerine Göre Hanehalkı Sayısı vs Binanın Kat Sayısı](https://biruni.tuik.gov.tr/medas/) consists of the total number of households based on the number of floors of the buildings.

[İlçe Bazlı Ortalama Hane Halkı Büyüklüğü](https://data.ibb.gov.tr/dataset/ilce-bazli-ortalama-hane-halki-buyuklugu/resource/da747beb-df41-474e-aa8a-93d983e69b15) is a dataset about the average household size on a district basis.

[2019 Yılı Belediye Nüfusları](https://data.ibb.gov.tr/dataset/belediye-nufuslari-veri-seti/resource/c6c9b289-2824-41b3-ab3d-4fd655ed4e24) is a dataset about the population within the borders of each municipality.

[İstanbul Çevresinde Gerçekleşen Depremler](https://data.ibb.gov.tr/dataset/istanbul-da-son-bir-yilda-gerceklesen-depremler/resource/32904f60-8091-4dc3-b527-351dca6c1c22) is a dataset about the earthquakes around Istanbul within 1 year. Each row represents an earthquake. In the columns, there are details about the earthquakes.

## 2.3 Reason of Choice

Istanbul is a city where the risk of earthquake is said to be very high, and it is predicted to cause significant loss of life and property. Almost every day, warnings from experts about the earthquake, which is estimated to be between 7.2 and 7.6 in magnitude, can be seen in news and newspapers. I decided to work on such a current topic, to inform people through comprehensive analysis, to make them more aware, and to encourage taking steps against this disaster to get through with minimal damage.

## 2.4 Preprocessing

There are 9 datasets in ".csv", ".xls" and ".xlsx" formats which were downloaded from the sources mentioned in the section [2.1 Data Source]. All these datasets have been merged into the same Excel file called "deprem.xlsx" and organized for a better use in the analysis. Each dataset is placed on a different sheet. After that, spelling errors on each dataset were corrected via Excel. In other words, correction of wrong letters was done. Finally, the "deprem.xlsx" file was read and stored in [.RData](https://github.com/emu-hacettepe-analytics/emu660-spring2024-aycacetin/tree/main) format using the code in the section [2.1 Data Source]. The [.RData](https://github.com/emu-hacettepe-analytics/emu660-spring2024-aycacetin/tree/main) file can be downloaded to review.

# 3. Analysis 🖥️

## 3.1 Exploratory Data Analysis

```{r}
#install.packages("ggplot2")
library(ggplot2)
library(dplyr)
library(tidyverse)
```

**"deprem_senaryo" analysis:**

"ilçe bazında hasarlı bina sayıları" (4 types of damage):

```{r}
p1<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=cok_agir_hasarli_bina_sayisi))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("Çok Ağır Hasarlı Bina Sayısı")+
  labs(title="İlçe Bazında Çok Ağır Hasarlı Bina Sayısı Dağılımı")
p1
p2<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=agir_hasarli_bina_sayisi))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("Ağır Hasarlı Bina Sayısı")+
  labs(title="İlçe Bazında Ağır Hasarlı Bina Sayısı Dağılımı")
p2
p3<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=orta_hasarli_bina_sayisi))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("Orta Hasarlı Bina Sayısı")+
  labs(title="İlçe Bazında Orta Hasarlı Bina Sayısı Dağılımı")
p3
p4<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=hafif_hasarli_bina_sayisi))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("Hafif Hasarlı Bina Sayısı")+
  labs(title="İlçe Bazında Hafif Hasarlı Bina Sayısı Dağılımı")
p4
```

"kişi sayıları" (4 types):

```{r}
p5<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=can_kaybi_sayisi))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("Can Kaybı Sayısı")+
  labs(title="İlçe Bazında Can Kaybı Sayısı Dağılımı")
p5
p6<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=agir_yarali_sayisi))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("Ağır Yaralı Sayısı")+
  labs(title="İlçe Bazında Ağır Yaralı Sayısı Dağılımı")
p6
p7<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=hastanede_tedavi_sayisi))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("Hastanede Tedavi Sayısı")+
  labs(title="İlçe Bazında Hastanede Tedavi Sayısı Dağılımı")
p7
p8<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=hafif_yarali_sayisi))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("Hafif Yaralı Sayısı")+
  labs(title="İlçe Bazında Hafif Yaralı Sayısı Dağılımı")
p8
```

"boru hasarı" (3 types of damage):

```{r}
p9<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=dogalgaz_boru_hasari))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("Doğalgaz Boru Hasarı")+
  labs(title="İlçe Bazında Doğalgaz Boru Hasarı Dağılımı")
p9
p10<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=icme_suyu_boru_hasari))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("İçme Suyu Boru Hasarı")+
  labs(title="İlçe Bazında İçme Suyu Boru Hasarı Dağılımı")
p10
p11<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=atik_su_boru_hasari))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("Atık Su Boru Hasarı")+
  labs(title="İlçe Bazında Atık Su Boru Hasarı Dağılımı")
p11
```

"geçici barınma":

```{r}
p12<-deprem_senaryo%>%ggplot(aes(x=ilce_adi, y=gecici_barinma))+
  geom_point()+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe Adı")+
  ylab("Geçici Barınma")+
  labs(title="İlçe Bazında Geçici Barınma Dağılımı")
p12
```

**"bina_sayi" analysis:**

"ilçe bazında yıllara göre bina sayılarının oranları":

```{r}
once<-sum(bina_sayi$`1980_oncesi`)
ara<-sum(bina_sayi$`1980-2000_arasi`)
sonra<-sum(bina_sayi$`2000_sonrasi`)
oranlar1<-c(once=once/(once+ara+sonra), 
           ara=ara/(once+ara+sonra), 
           sonra=sonra/(once+ara+sonra))
print(oranlar1)
```

"ilçe bazında yıllara göre bina sayıları":

```{r}
p13<-ggplot(bina_sayi, aes(x=ilce_adi))+
  geom_col(aes(y=`1980_oncesi`, fill="1980 Öncesi"), position=position_dodge(width=0.9))+
  geom_col(aes(y=`1980-2000_arasi`, fill="1980-2000 Arası"), position=position_dodge(width=0.9))+
  geom_col(aes(y=`2000_sonrasi`, fill="2000 Sonrası"), position=position_dodge(width=0.9))+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe")+
  ylab("Bina Sayısı")+
  labs(title="İlçe Bazında Yıllara Göre Bina Sayıları")
p13
```

"ilçe bazında kat sayısına göre bina sayılarının oranları":

```{r}
alcak<-sum(bina_sayi$`1-4 kat_arasi`)
orta<-sum(bina_sayi$`5-9 kat_arasi`)
yuksek<-sum(bina_sayi$`9-19 kat_arasi`)
oranlar2<-c(alcak=alcak/(alcak+orta+yuksek), 
           orta=orta/(alcak+orta+yuksek), 
           yuksek=yuksek/(alcak+orta+yuksek))
print(oranlar2)
```

"ilçe bazında kat sayısına göre bina sayıları":

```{r}
p14<-ggplot(bina_sayi, aes(x=ilce_adi))+
  geom_col(aes(y=`1-4 kat_arasi`, fill="1-4 kat_arasi"), position=position_dodge(width=0.9))+
  geom_col(aes(y=`5-9 kat_arasi`, fill="5-9 kat_arasi"), position=position_dodge(width=0.9))+
  geom_col(aes(y=`9-19 kat_arasi`, fill="9-19 kat_arasi"), position=position_dodge(width=0.9))+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe")+
  ylab("Bina Sayısı")+
  labs(title="İlçe Bazında Kat Sayısına Göre Bina Sayıları")
p14
```

**"riskli_yapi_durumu" analysis:**

"İlçe bazında hanelerdeki riskli yapı durumu hakkındaki bireysel öngörülerin oranları" (3 types of individual foresights):

```{r}
evet<-sum(riskli_yapi_durumu$riskli_yapi_evet)
hayir<-sum(riskli_yapi_durumu$riskli_yapi_hayir)
bilmiyorum<-sum(riskli_yapi_durumu$riskli_yapi_bilmiyorum)
oranlar3<-c(riskli_yapi_evet=evet/(evet+hayir+bilmiyorum), 
           riskli_yapi_hayir=hayir/(evet+hayir+bilmiyorum), 
           riskli_yapi_bilmiyorum=bilmiyorum/(evet+hayir+bilmiyorum))
print(oranlar3)
```

"İlçe bazında hanelerdeki riskli yapı durumu hakkındaki bireysel öngörülerin dağılımı" (3 types of individual foresights):

```{r}
#veri çerçevesini uzun formata dönüştürme
library(tidyr)
riskli_yapi_durumu_duzenlenmis<-pivot_longer(riskli_yapi_durumu, cols=starts_with("riskli_yapi_"), names_to="ongoru", values_to="deger")

p15<-ggplot(riskli_yapi_durumu_duzenlenmis, aes(x=ilce, y=deger, fill=ongoru))+
  geom_bar(stat="identity", position="stack")+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe") +
  ylab("Öngörü Sayısı") +
  labs(title="İlçe Bazında Hanelerdeki Riskli Yapı Durumu Hakkındaki Bireysel Öngörüler")
p15
```

**"kentsel_donusum_fikri" analysis:**

"İlçe bazında hanelerdeki kentsel dönüşüm fikri hakkındaki bireysel öngörülerin oranları" (2 types of individual foresights):

```{r}
evet<-sum(kentsel_donusum_fikri$kentsel_donusum_ihtiyac_evet)
hayir<-sum(kentsel_donusum_fikri$kentsel_donusum_ihtiyac_hayir)
oranlar4<-c(kentsel_donusum_ihtiyac_evet=evet/(evet+hayir), 
           kentsel_donusum_ihtiyac_hayir=hayir/(evet+hayir))
print(oranlar4)
```

"İlçe bazında hanelerdeki kentsel dönüşüm fikri hakkındaki bireysel öngörülerin dağılımı" (2 types of individual foresights):

```{r}
#veri çerçevesini uzun formata dönüştürme
library(tidyr)
kentsel_donusum_fikri_duzenlenmis<-pivot_longer(kentsel_donusum_fikri, cols=starts_with("kentsel_donusum_ihtiyac_"), names_to="ongoru", values_to="deger")

p17<-ggplot(kentsel_donusum_fikri_duzenlenmis, aes(x=ilce, y=deger, fill=ongoru))+
  geom_bar(stat="identity", position="stack")+
  theme(axis.text.x=element_text(angle=90, hjust=1))+
  xlab("İlçe") +
  ylab("Öngörü Sayısı") +
  labs(title="İlçe Bazında Hanelerdeki Kentsel Dönüşüm Fikri Hakkındaki Bireysel Öngörüler")
p17
```

**"gerceklesen_deprem" analysis:**

Analyzing this data could be crucial for examining earthquake activity and identifying potential risks. However, predicting future earthquake magnitudes is a complex thing to do because earthquakes are random and unpredictible.

"İstanbul Çevresinde Gerçekleşen Depremlerin Büyüklüklerinin Zaman Serisi Grafiği":

```{r}
#time sütununu işleme
gerceklesen_deprem$time<-as.POSIXct(gerceklesen_deprem$time, format="%Y-%m-%dT%H:%M:%OSZ")

library(ggplot2)

p19<-ggplot(gerceklesen_deprem, aes(x=time, y=magnitude))+
  geom_line()+
  labs(title="İstanbul Çevresinde Gerçekleşen Depremlerin Büyüklüklükleri", x="Tarih", y="Büyüklük")+
  theme_minimal()+
  scale_x_datetime(date_breaks="1 month", date_labels="%b %Y")+
  theme(axis.text.x=element_text(angle=90, vjust=0.5, hjust=1))
p19

p20<-ggplot(gerceklesen_deprem, aes(x=time, y=`depth/km`))+
  geom_line()+
  labs(title="İstanbul Çevresinde Gerçekleşen Depremlerin Derinlikleri", x="Tarih", y="Derinlik")+
  theme_minimal()+
  scale_x_datetime(date_breaks="1 month", date_labels="%b %Y")+
  theme(axis.text.x=element_text(angle=90, vjust=0.5, hjust=1))
p20
```

"İstanbul Çevresinde Gerçekleşen Depremlerin Harita Üzerinde Gösterimi":

```{r}
#leaflet paketini yükleme
#install.packages("leaflet")
library(leaflet)

#veri çerçevesi oluşturma
depremler<-data.frame(name=gerceklesen_deprem$event_id,
                   latitude=gerceklesen_deprem$latitude,
                   longitude=gerceklesen_deprem$longitude)

#İstanbul haritasını oluşturma
istanbul_map<-leaflet()%>%setView(lng=28.9784, lat=41.0082, zoom=11)%>%addTiles() 

#verileri haritaya ekleme
for(i in 1:nrow(depremler)){
  istanbul_map<-addMarkers(istanbul_map, lng=depremler$longitude[i], lat=depremler$latitude[i], popup=depremler$name[i])
  }

#haritayı görüntüleme
istanbul_map

```

## 3.2 Trend Analysis

xxxxxx

## 3.3 Model Fitting

xxxxxx

## 3.4 Results

xxxxxx

# 4. Results and Key Takeaways 📈

3-5 bullet points

\*ChatGPT was utilized.
